<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Goober Tutorials</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    font-family: sans-serif;
    line-height: 1.5;
    height: 100%;
  }

  #menu, .tutorial {
    padding: 20px;
  }

  button {
    padding: 10px 20px;
    margin: 5px;
    font-size: 16px;
    cursor: pointer;
  }

  #scroll-container {
    height: 100%;
    overflow-y: scroll;
    scrollbar-width: none; /* Firefox */
  }

  #scroll-container::-webkit-scrollbar {
    width: 0;
  }

  input {
    padding: 5px;
    font-size: 14px;
    margin-bottom: 5px;
  }
</style>
</head>
<body>

<!-- Menu -->
<div id="menu">
  <h1>Welcome to Goober Tutorials</h1>
  <button id="goober-btn">Goober Tutorial</button>
  <button id="custom-btn" style="display:none;">Custom Tutorial</button>
  <button id="create-btn">Create Custom</button>
</div>

<!-- Scrollable Tutorials -->
<div id="scroll-container" style="display:none;">

  <!-- Main Goober Tutorial -->
  <div class="tutorial" id="main-tutorial" style="display:none;">
    <h2>Main Goober Tutorial</h2>
    <div id="main-steps"></div>
  </div>

  <!-- Custom Tutorial -->
  <div class="tutorial" id="custom-tutorial" style="display:none;">
    <h2 id="custom-tutorial-title"></h2>
    <div id="custom-steps"></div>
  </div>

  <!-- Create Custom Tutorial -->
  <div class="tutorial" id="create-tutorial" style="display:none;">
    <h2>Create Your Infinite Tutorial</h2>
    <input type="text" id="custom-title" placeholder="Tutorial Title" />
    <br>
    <input type="text" id="custom-line" placeholder="Line text" />
    <button id="add-line">Add Line</button>
    <p>These are your lines (they will become steps when viewed):</p>
    <div id="preview-lines"></div>
    <button id="finish-custom">Finish Tutorial</button>
  </div>

</div>

<script>
// ===== Menu Handling =====
const menu = document.getElementById("menu");
const scrollContainer = document.getElementById("scroll-container");
const gooberBtn = document.getElementById("goober-btn");
const customBtn = document.getElementById("custom-btn");
const createBtn = document.getElementById("create-btn");

// ===== Main Goober Tutorial =====
let step = 1;
const mainContainer = document.getElementById("main-steps");
const messages = [
  "be a goober",
  "goober around",
  "just goob",
  "try goobin",
  "if it doesn't work, goob again",
  "goober",
  "uh, is that it, WAIT NO i forgot theres more",
  "goummberbrrrrrrrrrtrr",
  "goobrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr"
];

function randomMessage() {
  return messages[Math.floor(Math.random() * messages.length)];
}

function addMainStep() {
  const div = document.createElement("div");
  div.textContent = `Step ${step}: ${randomMessage()}`;
  mainContainer.appendChild(div);
  step++;
}

for (let i = 0; i < 40; i++) addMainStep();

// ===== Custom Tutorial Handling =====
let customLines = []; // user input lines
let customStepNumber = 1;
let customTutorialTitle = "";

const customTitleInput = document.getElementById("custom-title");
const customLineInput = document.getElementById("custom-line");
const addLineBtn = document.getElementById("add-line");
const finishCustomBtn = document.getElementById("finish-custom");
const customTitleDisplay = document.getElementById("custom-tutorial-title");
const customContainer = document.getElementById("custom-steps");
const previewLines = document.getElementById("preview-lines");

// Add a line (preview)
addLineBtn.addEventListener("click", () => {
  const text = customLineInput.value.trim();
  if (!text) return;
  customLines.push(text);
  customLineInput.value = "";

  // Show in preview
  const div = document.createElement("div");
  div.textContent = text;
  previewLines.appendChild(div);
});

// Finish custom tutorial
finishCustomBtn.addEventListener("click", () => {
  if (customLines.length === 0) return;

  customTutorialTitle = customTitleInput.value.trim() || "My Infinite Tutorial";
  customTitleDisplay.textContent = customTutorialTitle;

  document.getElementById("create-tutorial").style.display = "none";
  customContainer.innerHTML = "";

  // Add initial 40 steps, randomly picking from lines
  for (let i = 0; i < 40; i++) {
    const div = document.createElement("div");
    const line = customLines[Math.floor(Math.random() * customLines.length)];
    div.textContent = `Step ${i + 1}: ${line}`;
    customContainer.appendChild(div);
  }
  customStepNumber = 41;

  document.getElementById("custom-tutorial").style.display = "block";
  customBtn.style.display = "inline-block";
});

// ===== Menu Buttons =====
gooberBtn.addEventListener("click", () => {
  menu.style.display = "none";
  scrollContainer.style.display = "block";
  document.getElementById("main-tutorial").style.display = "block";
});

customBtn.addEventListener("click", () => {
  menu.style.display = "none";
  scrollContainer.style.display = "block";
  document.getElementById("custom-tutorial").style.display = "block";
});

createBtn.addEventListener("click", () => {
  menu.style.display = "none";
  scrollContainer.style.display = "block";
  document.getElementById("create-tutorial").style.display = "block";
});

// ===== Infinite Scrolling =====
scrollContainer.addEventListener("scroll", () => {
  if (scrollContainer.scrollTop + scrollContainer.clientHeight >= scrollContainer.scrollHeight - 50) {
    // Main tutorial
    if (document.getElementById("main-tutorial").style.display === "block") {
      for (let i = 0; i < 10; i++) addMainStep();
    }

    // Custom tutorial
    if (document.getElementById("custom-tutorial").style.display === "block") {
      for (let i = 0; i < 10; i++) {
        const div = document.createElement("div");
        const line = customLines[Math.floor(Math.random() * customLines.length)];
        div.textContent = `Step ${customStepNumber}: ${line}`;
        customContainer.appendChild(div);
        customStepNumber++;
      }
    }
  }
});
</script>

</body>
</html>
